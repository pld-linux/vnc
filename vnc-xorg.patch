diff -up vnc-4_1_2-unixsrc/unix/xorg-server/configure.ac.vnc vnc-4_1_2-unixsrc/unix/xorg-server/configure.ac
--- vnc-4_1_2-unixsrc/unix/xorg-server/configure.ac.vnc	2008-10-03 14:27:43.000000000 +0200
+++ vnc-4_1_2-unixsrc/unix/xorg-server/configure.ac	2008-10-03 14:29:10.000000000 +0200
@@ -30,7 +30,6 @@ AC_INIT([xorg-server], 1.5.1, [https://b
 RELEASE_DATE="23 September 2008"
 AC_CONFIG_SRCDIR([Makefile.am])
 AM_INIT_AUTOMAKE([dist-bzip2 foreign])
-AM_MAINTAINER_MODE
 
 dnl this gets generated by autoheader, and thus contains all the defines.  we
 dnl don't ever actually use it, internally.
@@ -1214,6 +1213,13 @@ if test "x$XVFB" = xyes; then
 	AC_SUBST([XVFB_SYS_LIBS])
 fi
 
+dnl Xvnc DDX
+AC_SUBST([XVNC_CPPFLAGS], ["-DHAVE_DIX_CONFIG_H $XEXT_INC $FB_INC $MI_INC $RENDER_INC"])
+AC_SUBST([XVNC_LIBS], ["$FB_LIB $FIXES_LIB $XEXT_LIB $CONFIG_LIB $DBE_LIB $XTRAP_LIB $RECORD_LIB $GLX_LIBS $RENDER_LIB $RANDR_LIB $DAMAGE_LIB $MIEXT_DAMAGE_LIB $MIEXT_SHADOW_LIB $XI_LIB $XKB_LIB $XKB_STUB_LIB $COMPOSITE_LIB $XPSTUBS_LIB"])
+
+dnl Xvnc DDX
+AC_SUBST([XVNC_CPPFLAGS], ["-DHAVE_DIX_CONFIG_H $XEXT_INC $FB_INC $MI_INC $RENDER_INC"])
+AC_SUBST([XVNC_LIBS], ["$FB_LIB $FIXES_LIB $XEXT_LIB $CONFIG_LIB $DBE_LIB $XTRAP_LIB $RECORD_LIB $GLX_LIBS $RENDER_LIB $RANDR_LIB $DAMAGE_LIB $MIEXT_DAMAGE_LIB $MIEXT_SHADOW_LIB $XI_LIB $XKB_LIB $XKB_STUB_LIB $COMPOSITE_LIB $XPSTUBS_LIB"])
 
 dnl Xnest DDX
 
@@ -2178,6 +2184,7 @@ hw/dmx/input/Makefile
 hw/dmx/glxProxy/Makefile
 hw/dmx/Makefile
 hw/vfb/Makefile
+hw/vnc/Makefile
 hw/xgl/Makefile
 hw/xgl/egl/Makefile
 hw/xgl/egl/module/Makefile
diff -up vnc-4_1_2-unixsrc/unix/xorg-server/hw/Makefile.am.vnc vnc-4_1_2-unixsrc/unix/xorg-server/hw/Makefile.am
--- vnc-4_1_2-unixsrc/unix/xorg-server/hw/Makefile.am.vnc	2008-10-03 14:27:44.000000000 +0200
+++ vnc-4_1_2-unixsrc/unix/xorg-server/hw/Makefile.am	2008-10-03 14:27:47.000000000 +0200
@@ -43,7 +43,8 @@ SUBDIRS =			\
 	$(DMX_SUBDIRS)		\
 	$(KDRIVE_SUBDIRS)	\
 	$(XQUARTZ_SUBDIRS)	\
-	$(XPRINT_SUBDIRS)
+	$(XPRINT_SUBDIRS)	\
+	vnc
 
 DIST_SUBDIRS = dmx xfree86 vfb xnest xwin xquartz kdrive xgl xprint
 
diff -up vnc-4_1_2-unixsrc/unix/xorg-server/mi/miinitext.c.vnc vnc-4_1_2-unixsrc/unix/xorg-server/mi/miinitext.c
--- vnc-4_1_2-unixsrc/unix/xorg-server/mi/miinitext.c.vnc	2008-10-03 14:27:44.000000000 +0200
+++ vnc-4_1_2-unixsrc/unix/xorg-server/mi/miinitext.c	2008-10-03 14:27:47.000000000 +0200
@@ -292,6 +292,7 @@ extern void BigReqExtensionInit(INITARGS
 #ifdef MITMISC
 extern void MITMiscExtensionInit(INITARGS);
 #endif
+extern void vncExtensionInit(INITARGS);
 #ifdef XIDLE
 extern void XIdleExtensionInit(INITARGS);
 #endif
@@ -566,6 +567,7 @@ InitExtensions(argc, argv)
 #ifdef MITMISC
     if (!noMITMiscExtension) MITMiscExtensionInit();
 #endif
+    vncExtensionInit();
 #ifdef XIDLE
     if (!noXIdleExtension) XIdleExtensionInit();
 #endif
